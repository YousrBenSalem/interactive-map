import React, { useState, useRef } from "react";
import {
  MapContainer,
  TileLayer,
  Marker,
  Popup,
  LayersControl,
  useMap,
} from "react-leaflet";
import "leaflet/dist/leaflet.css";
import L, { Control } from "leaflet";
import { motion } from "framer-motion";
import { Modal } from "antd";

// Correction ic√¥ne de marqueur
import markerIcon from "leaflet/dist/images/marker-icon.png";
import markerShadow from "leaflet/dist/images/marker-shadow.png";

const defaultIcon = L.icon({
  iconUrl: markerIcon,
  shadowUrl: markerShadow,
  iconSize: [25, 41],
  iconAnchor: [12, 41],
  popupAnchor: [1, -34],
});

const MontagneIcon = L.icon({
  iconUrl: "/assets/fourthCourse/silslaJabaleya.png", // üñºÔ∏è ton ic√¥ne personnalis√©e
  iconSize: [60, 75], // ü™Ñ taille de l‚Äôic√¥ne (modifie si besoin)
  iconAnchor: [15, 45], // üß∑ point d‚Äôancrage (le bas de l'ic√¥ne)
  popupAnchor: [0, -40], // üí¨ position du popup par rapport √† l‚Äôic√¥ne
});
const FlagIcon = L.icon({
  iconUrl: "/assets/fourthCourse/sommet.png", // üñºÔ∏è ton ic√¥ne personnalis√©e
  iconSize: [60, 75], // ü™Ñ taille de l‚Äôic√¥ne (modifie si besoin)
  iconAnchor: [15, 45], // üß∑ point d‚Äôancrage (le bas de l'ic√¥ne)
  popupAnchor: [0, -40], // üí¨ position du popup par rapport √† l‚Äôic√¥ne
});
const oroufIcon = L.icon({
  iconUrl: "/assets/fourthCourse/3orouf.png", // üñºÔ∏è ton ic√¥ne personnalis√©e
  iconSize: [60, 75], // ü™Ñ taille de l‚Äôic√¥ne (modifie si besoin)
  iconAnchor: [15, 45], // üß∑ point d‚Äôancrage (le bas de l'ic√¥ne)
  popupAnchor: [0, -40], // üí¨ position du popup par rapport √† l‚Äôic√¥ne
});

const { BaseLayer, Overlay } = LayersControl;

// Couleurs des paysages
const colors = {
  Ÿáÿ∂ÿßÿ®: "#60b658",
  ÿµÿ≠ÿßÿ±Ÿä: "#fff7c1",
  ÿ¨ÿ®ÿßŸÑ: "#b15951",
  ÿ≥ŸáŸàŸÑ: "#7ecb7a",
};
const icones = {
  "ŸÇŸÖÿ© ÿ¨ÿ®ŸÑ": "/assets/fourthCourse/sommet.png",
  "ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ©": "/assets/fourthCourse/silslaJabaleya.png",
  "ÿπÿ±ŸàŸÅ ÿ±ŸÖŸÑŸäÿ©": "/assets/fourthCourse/3orouf.png",
};
const colorsIcons = {
  "ŸÇŸÖÿ© ÿ¨ÿ®ŸÑ": "#d40a1b",
  "ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ©": "#ff810b",
  "ÿπÿ±ŸàŸÅ ÿ±ŸÖŸÑŸäÿ©": "#3f81d7",
};
// Composant pour zoomer sur un marqueur
// const ZoomToMarker = ({ position }) => {
//   const map = useMap();
//   if (position) {
//     map.flyTo(position, 6, { duration: 1.5 });
//   }
//   return null;
// };

// Donn√©es des montagnes
const montagnes = [
  {
    id: 1,
    name: "ÿ¨ÿ®ŸÑ ÿßŸÑÿ¥ÿπÿßŸÜÿ®Ÿä",
    lat: 35.2,
    lng: 8.7,
    desc: "ÿ£ŸÜÿß ÿ¨ÿ®ŸÑ ÿßŸÑÿ¥ÿπÿßŸÜÿ®Ÿäÿå ÿ£ÿπŸÑŸâ ŸÇŸÖÿ© ŸÅŸä ÿ™ŸàŸÜÿ≥ÿå ÿ£ÿ±ÿ™ŸÅÿπ ÿ•ŸÑŸâ 1544 ŸÖÿ™ÿ±Ÿãÿß ŸÅŸàŸÇ ÿ≥ÿ∑ÿ≠ ÿßŸÑÿ®ÿ≠ÿ±. ÿ£ŸÇÿπ ŸÅŸä ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ∏Ÿáÿ±Ÿäÿ© ÿ∂ŸÖŸÜ ŸàŸÑÿßŸäÿ© ÿßŸÑŸÇÿµÿ±ŸäŸÜÿå Ÿàÿ£ÿ¥ÿ™Ÿáÿ± ÿ®ÿ™ŸÜŸàÿπŸä ÿßŸÑÿ®ŸäŸàŸÑŸàÿ¨Ÿä Ÿàÿ∫ÿ∑ÿßÿ¶Ÿä ÿßŸÑŸÜÿ®ÿßÿ™Ÿä ÿßŸÑŸÉÿ´ŸäŸÅÿå ŸÉŸÖÿß ÿ£Ÿèÿπÿ™ÿ®ÿ± ŸÖÿ≠ŸÖŸäÿ© ÿ∑ÿ®ŸäÿπŸäÿ© ŸàŸÖŸÉÿßŸÜŸãÿß ÿ±ŸÖÿ≤ŸäŸãÿß ŸÅŸä ÿßŸÑÿ¨ÿ∫ÿ±ÿßŸÅŸäÿß ÿßŸÑÿ™ŸàŸÜÿ≥Ÿäÿ©.",
  },
  {
    id: 2,
    name: "ÿ¨ÿ®ŸÑ ÿßŸÑÿ£Ÿàÿ±ÿßÿ≥",
    lat: 35.5,
    lng: 6.5,
    desc: "ÿ£ŸÜÿß ÿ¨ÿ®ŸÑ ÿßŸÑÿ£Ÿàÿ±ÿßÿ≥ÿå ÿ£ÿ≠ÿØ ÿ£ÿ®ÿ±ÿ≤ ÿ¨ÿ®ÿßŸÑ ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±ÿå ÿ£ÿ®ŸÑÿ∫ ÿßÿ±ÿ™ŸÅÿßÿπŸä 2328 ŸÖÿ™ÿ±Ÿãÿß. ÿ£ŸÇÿπ ŸÅŸä ÿ¥ÿ±ŸÇ ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± Ÿàÿ£ÿ¥ŸÉŸÑ ÿßŸÖÿ™ÿØÿßÿØŸãÿß ŸÑÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸä. ÿ£ŸÅÿ™ÿÆÿ± ÿ®ŸÖŸÉÿßŸÜÿ™Ÿä ÿßŸÑÿ™ÿßÿ±ŸäÿÆŸäÿ©ÿå ÿ•ÿ∞ ŸÉŸÜÿ™ ŸÖÿ≥ÿ±ÿ≠Ÿãÿß ŸÑÿßŸÜÿ∑ŸÑÿßŸÇ ÿßŸÑÿ´Ÿàÿ±ÿ© ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±Ÿäÿ©ÿå Ÿàÿ£ÿ™ŸÖŸäÿ≤ ÿ®ÿ∑ÿ®Ÿäÿπÿ© ÿÆŸÑÿßÿ®ÿ© ÿ™ÿ¨ŸÖÿπ ÿ®ŸäŸÜ ÿßŸÑŸÇŸÖŸÖ ÿßŸÑÿπÿßŸÑŸäÿ© ŸàÿßŸÑÿ∫ÿßÿ®ÿßÿ™ ÿßŸÑŸÉÿ´ŸäŸÅÿ©.",
  },
  {
    id: 3,
    name: "ÿ¨ÿ®ŸÑ ÿßŸÑÿ£ÿ≠ÿ¨ÿßÿ± (ÿßŸÑŸáŸÇÿßÿ±)",
    lat: 23.3,
    lng: 5.7,
    desc: "ÿ£ŸÜÿß ÿ¨ÿ®ŸÑ ÿßŸÑÿ£ÿ≠ÿ¨ÿßÿ± ÿ£Ÿà ÿßŸÑŸáŸÇÿßÿ±ÿå ÿ£ÿ±ÿ™ŸÅÿπ ÿ•ŸÑŸâ ÿ≠ŸàÿßŸÑŸä 2918 ŸÖÿ™ÿ±Ÿãÿßÿå Ÿàÿ£ŸÇÿπ ŸÅŸä ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿ¥ÿ±ŸÇŸä ŸÑŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ŸÇÿ±ÿ® ÿ™ŸÖŸÜÿ±ÿßÿ≥ÿ™. ÿ£ÿ™ŸÖŸäÿ≤ ÿ®ÿ™ÿ∂ÿßÿ±Ÿäÿ≥Ÿä ÿßŸÑÿ®ÿ±ŸÉÿßŸÜŸäÿ© ÿßŸÑŸÇÿØŸäŸÖÿ© Ÿàÿ™ŸÜŸàÿπŸä ÿßŸÑÿ®ŸäŸàŸÑŸàÿ¨Ÿä ŸÅŸä ŸÇŸÑÿ® ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ. ÿ£Ÿèÿπÿ™ÿ®ÿ± ŸÖŸÜ ÿ£ÿ®ÿ±ÿ≤ ÿßŸÑŸÖÿπÿßŸÑŸÖ ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿ© ŸÅŸä ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ŸàŸÖŸÉÿßŸÜŸãÿß ÿ±Ÿàÿ≠ÿßŸÜŸäŸãÿß Ÿàÿ´ŸÇÿßŸÅŸäŸãÿß ŸÑÿØŸâ ÿßŸÑÿ∑Ÿàÿßÿ±ŸÇ.",
  },
  {
    id: 4,
    name: "ÿ¨ÿ®ŸÑ ÿ∑Ÿàÿ®ŸÇÿßŸÑ ",
    lat: 31.059,
    lng: -7.918,

    desc: "ÿ£ŸÜÿß ÿ¨ÿ®ŸÑ ÿ∑Ÿàÿ®ŸÇÿßŸÑ  ÿ£ÿπŸÑŸâ ŸÇŸÖÿ© ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿ£ŸÇÿµŸâ Ÿàÿ¥ŸÖÿßŸÑ ÿ£ŸÅÿ±ŸäŸÇŸäÿßÿå ÿ≠Ÿäÿ´ Ÿäÿ®ŸÑÿ∫ ÿßÿ±ÿ™ŸÅÿßÿπŸä 4165 ŸÖÿ™ÿ±Ÿãÿß. ÿ£Ÿèÿπÿ™ÿ®ÿ± ÿ¨ÿ≤ÿ°Ÿãÿß ŸÖŸÜ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÉÿ®Ÿäÿ±ÿå Ÿàÿ£ŸÇÿπ ÿ¨ŸÜŸàÿ® ŸÖÿØŸäŸÜÿ© ŸÖÿ±ÿßŸÉÿ¥. ÿ£ŸèÿπÿØ ŸÖŸÇÿµÿØŸãÿß ÿ¥ŸáŸäÿ±Ÿãÿß ŸÑŸÖÿ≠ÿ®Ÿä ÿßŸÑŸÖÿ∫ÿßŸÖÿ±ÿ© ŸàÿßŸÑÿ™ÿ≥ŸÑŸÇ ŸàÿßŸÑŸÖŸÜÿßÿ∏ÿ± ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿ© ÿßŸÑÿÆŸÑÿßÿ®ÿ©.",
  },
];

// Data for Ÿáÿ∂ÿßÿ® locations
const hidhabs = [
  {
    id: 1,
    name: "ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ∏Ÿáÿ±Ÿäÿ© ÿ®ÿ™ŸàŸÜÿ≥",
    lat: 36.8,
    lng: 9.5,
    desc: "ÿ™ŸÖÿ™ÿØ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ∏Ÿáÿ±Ÿäÿ© ŸÅŸä ÿ¥ŸÖÿßŸÑ ÿ™ŸàŸÜÿ≥ ŸÖŸÜ ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿ∫ÿ±ÿ®Ÿä ÿ•ŸÑŸâ ÿßŸÑÿ¥ŸÖÿßŸÑ ÿßŸÑÿ¥ÿ±ŸÇŸäÿå ŸàŸáŸä ÿ™ŸèÿπÿØ ÿ¨ÿ≤ÿ°Ÿãÿß ŸÖŸÜ ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿ™ŸÑŸä. ÿ™ÿ™ŸÖŸäÿ≤ ÿ®ÿ™ÿ∂ÿßÿ±Ÿäÿ≥Ÿáÿß ÿßŸÑÿ¨ÿ®ŸÑŸäÿ© ÿßŸÑŸÖÿ™Ÿàÿ≥ÿ∑ÿ© ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ ŸàŸÖŸÜÿßÿÆŸáÿß ÿßŸÑŸÖÿ™Ÿàÿ≥ÿ∑Ÿäÿå ŸÖÿß Ÿäÿ¨ÿπŸÑŸáÿß ŸÖŸÜÿ∑ŸÇÿ© ÿ≤ÿ±ÿßÿπŸäÿ© ŸÖŸáŸÖÿ© ÿÆÿßÿµÿ© ŸÑÿ≤ÿ±ÿßÿπÿ© ÿßŸÑÿ≠ÿ®Ÿàÿ®.",
  },
  {
    id: 2,
    name: "ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ™ŸÑ ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±",
    lat: 36.7,
    lng: 3.0,
    desc: "ÿ™ŸèÿπÿØ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ™ŸÑ ŸÖŸÜ ÿ£ŸáŸÖ ÿßŸÑÿ≥ŸÑÿßÿ≥ŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±ÿå ÿ™ŸÖÿ™ÿØ ÿ®ŸÖÿ≠ÿßÿ∞ÿßÿ© ÿßŸÑÿ≥ÿßÿ≠ŸÑ ÿßŸÑÿ¥ŸÖÿßŸÑŸä Ÿàÿ™ÿ∂ŸÖ ŸÖŸÜÿßÿ∑ŸÇ ŸÖÿ±ÿ™ŸÅÿπÿ© ŸÖÿ´ŸÑ ÿ¨ÿ®ÿßŸÑ ÿ¨ÿ±ÿ¨ÿ±ÿ© Ÿàÿ¨ÿ®ÿßŸÑ ÿßŸÑÿ®ÿßÿ®Ÿàÿ±. ÿ™ÿ™ŸÖŸäÿ≤ ÿ®ÿ∫ÿ∑ÿßÿ° ŸÜÿ®ÿßÿ™Ÿä ŸÉÿ´ŸäŸÅ ŸàŸÖŸÜÿßÿÆ ŸÖÿπÿ™ÿØŸÑÿå Ÿàÿ™ŸèÿπÿØ ŸÖŸÜÿ∑ŸÇÿ© ÿÆÿµÿ®ÿ© ŸÑŸÑÿ≤ÿ±ÿßÿπÿ©.",
  },
  {
    id: 3,
    name: "ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑŸáŸàŸÇÿßÿ± ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±",
    lat: 23.5,
    lng: 5.5,
    desc: "ÿ™ŸÇÿπ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑŸáŸàŸÇÿßÿ± (ÿßŸÑŸáŸèŸàŸÇÿßÿ±) ŸÅŸä ÿ¨ŸÜŸàÿ® ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±ÿå ŸàŸáŸä ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ© ÿ®ÿ±ŸÉÿßŸÜŸäÿ© ÿ™ÿ™ŸÉŸàŸÜ ŸÖŸÜ ÿµÿÆŸàÿ± ŸÜÿßÿ±Ÿäÿ© ŸÇÿØŸäŸÖÿ©. ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ÿπŸÑŸâ ŸÇŸÖÿ© ŸÅŸä ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±ÿå ŸàŸáŸä ÿ¨ÿ®ŸÑ ÿ™ÿßŸáÿßÿ™ÿå Ÿàÿ™ÿ™ŸÖŸäÿ≤ ÿ®ÿ¨ŸÖÿßŸÑŸáÿß ÿßŸÑÿ∑ÿ®ŸäÿπŸä Ÿàÿ™ŸÜŸàÿπŸáÿß ÿßŸÑÿ¨ŸäŸàŸÑŸàÿ¨Ÿä.",
  },
  {
    id: 4,
    name: "ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸä ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±",
    lat: 33.0,
    lng: 2.0,
    desc: "ÿ™ŸÖÿ™ÿØ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸä ÿπÿ®ÿ± ÿßŸÑÿ£ÿ¨ÿ≤ÿßÿ° ÿßŸÑÿ¨ŸÜŸàÿ®Ÿäÿ© ŸÖŸÜ ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± Ÿàÿ™Ÿèÿ¥ŸÉŸÑ ÿ≠ÿßÿ¨ÿ≤Ÿãÿß ÿ∑ÿ®ŸäÿπŸäÿß ÿ®ŸäŸÜ ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ Ÿàÿ¥ŸÖÿßŸÑ ÿßŸÑÿ®ŸÑÿßÿØ. ÿ™ÿ™ŸÉŸàŸÜ ŸÖŸÜ ÿ¨ÿ®ÿßŸÑ ŸàŸáÿ∂ÿßÿ® ÿ¥ÿ®Ÿá ŸÇÿßÿ≠ŸÑÿ©ÿå Ÿàÿ™ÿ∂ŸÖ ŸÖŸàÿßÿ±ÿØ ŸÖÿπÿØŸÜŸäÿ© ŸÖŸáŸÖÿ©.",
  },
  {
    id: 5,
    name: "ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿ®ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿ£ŸÇÿµŸâ",
    lat: 32.0,
    lng: -6.0,
    desc: "Ÿäÿ™ŸÉŸàŸÜ ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÖÿ∫ÿ±ÿ®Ÿä ŸÖŸÜ ÿ´ŸÑÿßÿ´ ÿ≥ŸÑÿßÿ≥ŸÑ ÿ±ÿ¶Ÿäÿ≥Ÿäÿ©: ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÉÿ®Ÿäÿ± ÿßŸÑÿ∞Ÿä Ÿäÿ∂ŸÖ ÿ£ÿπŸÑŸâ ŸÇŸÖÿ© ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® (ÿ™Ÿàÿ®ŸÇÿßŸÑ)ÿå ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ∞Ÿä Ÿäÿ™ŸÖŸäÿ≤ ÿ®ÿßŸÑÿ∫ÿßÿ®ÿßÿ™ ŸàÿßŸÑÿ£ŸÜŸáÿßÿ±ÿå ŸàÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ∫Ÿäÿ± ŸÅŸä ÿßŸÑÿ¨ŸÜŸàÿ®. ÿ™ŸÑÿπÿ® Ÿáÿ∞Ÿá ÿßŸÑÿ≥ŸÑÿßÿ≥ŸÑ ÿØŸàÿ±Ÿãÿß ŸÉÿ®Ÿäÿ±Ÿãÿß ŸÅŸä ÿßŸÑŸÖŸÜÿßÿÆ ŸàÿßŸÑÿ≤ÿ±ÿßÿπÿ© ŸàÿßŸÑŸÖŸàÿßÿ±ÿØ ÿßŸÑŸÖÿßÿ¶Ÿäÿ©.",
  },
];

const sohouls = [
  {
    id: 1,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿ™ŸàŸÜÿ≥",
    lat: 33.9,
    lng: 10.2,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿ™ŸàŸÜÿ≥ ÿ™ŸÖÿ™ÿØ ÿπŸÑŸâ ÿ∑ŸàŸÑ ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ© ŸÅŸä ÿßŸÑÿ¨ŸÜŸàÿ®ÿå ÿ≠Ÿäÿ´ ÿ™ÿ¥ŸÉŸÑ Ÿáÿ∂ÿßÿ®Ÿãÿß ŸàŸÉÿ´ÿ®ÿßŸÜŸãÿß ÿ±ŸÖŸÑŸäÿ© ÿ∂ÿÆŸÖÿ©. ÿ™ÿ™ŸÖŸäÿ≤ Ÿáÿ∞Ÿá ÿßŸÑÿπÿ±ŸàŸÅ ÿ®ÿßÿ±ÿ™ŸÅÿßÿπÿßÿ™Ÿáÿß ÿßŸÑŸÖÿ™ŸÅÿßŸàÿ™ÿ© Ÿàÿ£ŸÑŸàÿßŸÜŸáÿß ÿßŸÑÿ∞Ÿáÿ®Ÿäÿ© ÿßŸÑÿ™Ÿä ÿ™ŸÜÿπŸÉÿ≥ ÿ™ÿ≠ÿ™ ÿ∂Ÿàÿ° ÿßŸÑÿ¥ŸÖÿ≥. Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿ™ÿπÿ™ÿ®ÿ± ÿ¨ÿ≤ÿ°Ÿãÿß ŸÖŸÜ ÿµÿ≠ÿ±ÿßÿ° ÿßŸÑÿ¥ÿ∑Ÿàÿ∑.",
  },
  {
    id: 2,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±",
    lat: 31.5,
    lng: 4.5,
    desc: "ÿ™ŸÜÿ™ÿ¥ÿ± ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ÿßŸÑÿ¨ŸÜŸàÿ®Ÿäÿ© ÿÆÿßÿµÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ÿßŸÑŸÉÿ®ÿ±Ÿâ. Ÿáÿ∞Ÿá ÿßŸÑÿπÿ±ŸàŸÅ ÿ™ÿ™ŸÖŸäÿ≤ ÿ®ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿßŸÑŸÉÿ®Ÿäÿ±ÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ™ÿ∫Ÿäÿ± ÿ¥ŸÉŸÑÿßŸã ŸÖÿπ ÿßŸÑÿ±Ÿäÿßÿ≠ ÿßŸÑŸÖŸàÿ≥ŸÖŸäÿ©. ÿ™ÿπÿØ Ÿáÿ∞Ÿá ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ ŸÖŸÜ ÿ£ŸáŸÖ ÿßŸÑŸàÿ¨Ÿáÿßÿ™ ÿßŸÑÿ≥Ÿäÿßÿ≠Ÿäÿ© ŸÑŸÖÿ≠ÿ®Ÿä ÿßŸÑŸÖÿ∫ÿßŸÖÿ±ÿ© ŸàÿßŸÑÿ±ÿ≠ŸÑÿßÿ™ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ©.",
  },
  {
    id: 3,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿ£ŸÇÿµŸâ",
    lat: 29.0,
    lng: -7.5,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿ™ÿ™Ÿàÿ≤ÿπ ŸÅŸä ŸÖŸÜÿßÿ∑ŸÇ ŸÖÿ´ŸÑ ÿµÿ≠ÿ±ÿßÿ° ŸÖÿ±ÿßŸÉÿ¥ÿå ÿ≠Ÿäÿ´ ÿ™ÿ¨ÿØ ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿßŸÑÿ∂ÿÆŸÖÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ¥ŸÉŸÑ ŸÖŸÜÿ∏ÿ±ÿßŸã ÿ∑ÿ®ŸäÿπŸäÿßŸã ÿÆŸÑÿßÿ®ÿßŸã. Ÿáÿ∞Ÿá ÿßŸÑÿπÿ±ŸàŸÅ ÿ™ÿπÿ±ŸÅ ÿ®ÿ™ŸÜŸàÿπŸáÿß ÿßŸÑÿ®ŸäŸàŸÑŸàÿ¨Ÿä Ÿàÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿßŸÑÿπÿØŸäÿØ ŸÖŸÜ ÿßŸÑÿ£ŸÜŸàÿßÿπ ÿßŸÑŸÜÿ®ÿßÿ™Ÿäÿ© ŸàÿßŸÑÿ≠ŸäŸàÿßŸÜŸäÿ© ÿßŸÑŸÖÿ™ŸÉŸäŸÅÿ© ŸÖÿπ ÿßŸÑÿ®Ÿäÿ¶ÿ© ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ©.",
  },
  {
    id: 4,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ",
    lat: 25.0,
    lng: 6.0,
    desc: "ÿ™ÿπÿØ ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ Ÿàÿßÿ≠ÿØÿ© ŸÖŸÜ ÿ£ŸÉÿ®ÿ± ÿßŸÑÿµÿ≠ÿßÿ±Ÿä ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿßŸÑÿπÿßŸÑŸÖ. ÿ™ÿ™ŸÖŸäÿ≤ ÿ®ŸÉÿ´ÿ®ÿßŸÜŸáÿß ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿßŸÑÿπŸÖŸÑÿßŸÇÿ© ÿßŸÑÿ™Ÿä ÿ™ŸÖÿ™ÿØ ŸÑÿ¢ŸÑÿßŸÅ ÿßŸÑŸÉŸäŸÑŸàŸÖÿ™ÿ±ÿßÿ™. ÿ™ÿπÿ±ŸÅ ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ ÿ®ÿ™ŸÜŸàÿπ ÿ®Ÿäÿ¶Ÿä ŸÅÿ±ŸäÿØ Ÿàÿ™ÿßÿ±ŸäÿÆ ÿ∫ŸÜŸä ÿ®ÿßŸÑÿ´ŸÇÿßŸÅÿßÿ™ ÿßŸÑŸÇÿØŸäŸÖÿ© ÿßŸÑÿ™Ÿä ÿ≥ŸÉŸÜÿ™ ŸÅŸäŸáÿß.",
  },
  {
    id: 5,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑÿ∫ÿ±ÿ®Ÿäÿ©",
    lat: 27.0,
    lng: -8.0,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑÿ∫ÿ±ÿ®Ÿäÿ© ÿ™ŸÖÿ™ÿØ ÿπŸÑŸâ ŸÖÿ≥ÿßÿ≠ÿ© ÿ¥ÿßÿ≥ÿπÿ©ÿå Ÿàÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿßŸÑÿπÿØŸäÿØ ŸÖŸÜ ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿßŸÑÿ™Ÿä ÿ™ÿπÿØ ŸÖŸÜ ÿ£ÿ®ÿ±ÿ≤ ÿßŸÑŸÖÿπÿßŸÑŸÖ ÿßŸÑÿ¨ÿ∫ÿ±ÿßŸÅŸäÿ© ŸÅŸä ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©. Ÿàÿ™ÿπÿ™ÿ®ÿ± ŸÖŸÜ ÿßŸÑÿ£ŸÖÿßŸÉŸÜ ÿßŸÑÿ™Ÿä ÿ™ÿ¨ÿ∞ÿ® ŸÖÿ≠ÿ®Ÿä ÿßŸÑŸÖÿ∫ÿßŸÖÿ±ÿ© ŸàÿßŸÑŸÜÿ≤Ÿáÿßÿ™ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ©.",
  },
  {
    id: 6,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑÿ™ŸàŸÜÿ≥Ÿäÿ© (ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿ¥ÿ±ŸÇŸä)",
    lat: 32.0,
    lng: 9.5,
    desc: "ÿ™ÿ™ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿ¥ÿ±ŸÇŸä ÿßŸÑÿ™ŸàŸÜÿ≥Ÿäÿå Ÿàÿ™Ÿàÿ¨ÿØ ŸÅŸä ŸÖŸÜÿßÿ∑ŸÇ ŸÖÿ´ŸÑ ÿØŸàÿ≤ Ÿàÿ®Ÿàÿ∫ÿ±ÿßÿ±ÿ©. ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸáŸÜÿßŸÉ ÿ™ÿπŸÉÿ≥ ÿ¨ŸÖÿßŸÑŸãÿß ÿ∑ÿ®ŸäÿπŸäŸãÿß ÿ®ŸÅÿ∂ŸÑ ÿßŸÑÿ™ÿ∂ÿßÿ±Ÿäÿ≥ ÿßŸÑŸÖÿ™ŸÜŸàÿπÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ™ÿ±ÿßŸàÿ≠ ÿ®ŸäŸÜ ÿßŸÑÿ™ŸÑÿßŸÑ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸàÿßŸÑÿµÿ≠ÿßÿ±Ÿä ÿßŸÑŸàÿßÿ≥ÿπÿ©.",
  },
  {
    id: 7,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ŸÑŸäÿ®Ÿäÿß ÿßŸÑŸÉÿ®ÿ±Ÿâ",
    lat: 24.0,
    lng: 14.0,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ŸÑŸäÿ®Ÿäÿß ÿßŸÑŸÉÿ®ÿ±Ÿâ ÿ™ÿπÿ™ÿ®ÿ± ŸÖŸÜ ÿ£ÿ®ÿ±ÿ≤ ÿßŸÑŸÖÿ∏ÿßŸáÿ± ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿ© ŸÅŸä ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©. ÿ™ÿ™ŸÜŸàÿπ ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÖŸÜ ÿ≠Ÿäÿ´ ÿßŸÑÿ¥ŸÉŸÑ ŸàÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπÿå ŸÖŸÖÿß Ÿäÿ¨ÿπŸÑŸáÿß ŸÖŸÜ ÿßŸÑŸàÿ¨Ÿáÿßÿ™ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© ŸÑŸÑÿ®ÿßÿ≠ÿ´ŸäŸÜ ÿπŸÜ ÿßŸÑŸÖÿ∫ÿßŸÖÿ±ÿßÿ™ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ©.",
  },
  {
    id: 8,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ÿ®ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÖŸàÿ±Ÿäÿ™ÿßŸÜŸäÿ©",
    lat: 20.5,
    lng: -10.5,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ŸÖŸàÿ±Ÿäÿ™ÿßŸÜŸäÿß ÿ™ÿπÿØ Ÿàÿßÿ≠ÿØÿ© ŸÖŸÜ ÿ£Ÿàÿ≥ÿπ ŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑŸÉÿ´ÿ®ÿßŸÜ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿ¥ŸÖÿßŸÑ ÿ∫ÿ±ÿ® ÿ£ŸÅÿ±ŸäŸÇŸäÿß. ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿ∫ŸÜŸäÿ© ÿ®ÿßŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ®ÿ±Ÿäÿ© ŸàÿßŸÑŸÜÿ®ÿßÿ™ÿßÿ™ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ© ÿßŸÑŸÅÿ±ŸäÿØÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ™ŸÉŸäŸÅ ŸÖÿπ ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ±ŸÖÿßŸÑ ÿßŸÑÿ¨ÿßŸÅÿ©.",
  },
  {
    id: 9,
    name: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÜŸÇÿ® (ÿßŸÑÿ¨ÿ≤ÿ° ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±Ÿä)",
    lat: 23.0,
    lng: 5.0,
    desc: "ÿßŸÑÿπÿ±ŸàŸÅ ÿßŸÑÿ±ŸÖŸÑŸäÿ© ŸÅŸä ÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÜŸÇÿ® ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±Ÿäÿ© ŸáŸä ÿ¨ÿ≤ÿ° ŸÖŸÜ ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ© ÿßŸÑŸÉÿ®Ÿäÿ±ÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ∂ŸÖ ŸÉÿ´ÿ®ÿßŸÜÿßŸã ÿπÿßŸÑŸäÿ© Ÿàÿ≥ŸáŸàŸÑÿßŸã ÿ±ŸÖŸÑŸäÿ©ÿå ŸÖÿπ ÿ™ÿßÿ±ŸäÿÆ ÿ∑ŸàŸäŸÑ ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ÿßŸÑÿ≠ÿ∂ÿßÿ±ÿßÿ™ ÿßŸÑŸÇÿØŸäŸÖÿ© ÿßŸÑÿ™Ÿä ÿ≥ŸÉŸÜÿ™ Ÿáÿ∞Ÿá ÿßŸÑÿ£ÿ±ÿ∂.",
  },

];
const MaghrebMap = () => {
  const [selectedType, setSelectedType] = useState("");
  //const [selectedPosition, setSelectedPosition] = useState(null);
  const [selectedMontagne, setSelectedMontagne] = useState(null);
    const [isModalVisible, setIsModalVisible] = useState(false);
    const [modalContent, setModalContent] = useState("");

    const descriptions = {
      ÿ≥ŸáŸàŸÑ: `ÿ£ŸÜÿß ÿßŸÑÿ≥ŸáŸàŸÑ ŸÖŸÜÿßÿ∑ŸÇ ŸÖŸÜÿ®ÿ≥ÿ∑ÿ©ÿå ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®Ÿä ÿßÿ±ÿ™ŸÅÿßÿπÿßÿ™ ÿßŸà ÿßŸÜÿÆŸÅÿßÿ∂ÿßÿ™ ŸÉÿ´Ÿäÿ±ÿ© ŸàÿßŸÜÿß ÿßŸÑÿ£ŸÇŸÑ ÿßŸÜÿ™ÿ¥ÿßÿ±ÿß ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿπÿ±ÿ®Ÿä. ÿ£ÿ∏Ÿáÿ± ŸÅŸä ÿ¥ŸÉŸÑ ŸÜŸàÿπŸäŸÜ ŸáŸÖÿß:
- ÿ≥ŸáŸàŸÑ ÿ≥ÿßÿ≠ŸÑŸäÿ© ÿ∂ŸäŸÇÿ© ŸÉÿ≥ŸáŸÑ ÿßŸÑÿ≥ÿßÿ≠ŸÑ Ÿà ÿ≥ŸáŸàŸÑ ÿßŸÑÿ¨ŸÅÿßÿ±ÿ© ÿ®ÿßŸÑÿ®ŸÑÿßÿØ ÿßŸÑÿ™ŸàŸÜÿ≥Ÿäÿ©
- ÿ≥ŸáŸàŸÑ ÿØÿßÿÆŸÑŸäÿ© ŸÖÿ´ŸÑ ÿ≥ŸáŸàŸÑ ÿßŸÑŸÉÿßŸÅÿå ÿßŸÑÿ¨ÿ±ŸäÿØ Ÿà ŸÜŸÅÿ≤ÿßŸàÿ© ŸÅŸä ÿ™ŸàŸÜÿ≥ Ÿà ÿßŸÑÿ™Ÿä ÿ™ÿ≠ÿ™ŸàŸä ÿ®ÿπÿ∂ ÿßŸÑŸÖŸÜÿÆŸÅÿ∂ÿßÿ™ Ÿà ÿßŸÑÿ¥ÿ∑Ÿàÿ∑ ŸÉÿ¥ÿ∑ ÿßŸÑÿ¨ÿ±ŸäÿØ.`,

      Ÿáÿ∂ÿßÿ®: `ÿ£ŸÜÿß ÿßŸÑŸáÿ∂ÿßÿ® ÿ™ÿ∂ÿßÿ±Ÿäÿ≥ ŸÖÿ±ÿ™ŸÅÿπÿ© ÿ®ÿπÿ∂ ÿßŸÑÿ¥Ÿäÿ° ÿπŸÜ ÿ≥ÿ∑ÿ≠ ÿßŸÑÿ£ÿ±ÿ∂ ŸÖÿ´ÿßŸÑ Ÿáÿ∂ÿßÿ® ÿßŸÑÿ∏ÿßŸáÿ± ÿ®ÿßŸÑÿ¨ŸÜŸàÿ® ÿßŸÑÿ™ŸàŸÜÿ≥Ÿä.`,

      ÿ¨ÿ®ÿßŸÑ: `ÿ£ŸÜÿß ÿßŸÑÿ¨ÿ®ÿßŸÑ ÿ£ÿ¨ÿ≤ÿßÿ° ŸÖÿ±ÿ™ŸÅÿπÿ© ÿ¨ÿØÿß ÿπŸÜ ÿ≥ÿ∑ÿ≠ ÿßŸÑÿ£ÿ±ÿ∂ ŸÖŸÇÿßÿ±ŸÜÿ© ÿ®ÿßŸÑŸáÿ∂ÿßÿ®ÿå ÿ£ÿ™ŸÖŸäŸëÿ≤ ÿπŸÖŸàŸÖÿß ÿ®ÿ¨ŸàÿßŸÜÿ® ÿ¥ÿØŸäÿØÿ© ÿßŸÑÿ•ŸÜÿ≠ÿØÿßÿ± ŸàŸÇŸÖŸÖ ÿ¥ÿßŸáŸÇÿ©. Ÿàÿ£ŸÜÿß ŸÜŸàÿπÿßŸÜ:
- ÿ≥ŸÑÿßÿ≥ŸÑ ÿ¨ÿ®ŸÑŸäÿ© ŸÖŸÜÿπÿ≤ŸÑÿ© ŸÅŸä ÿßŸÑÿ¥ŸÖÿßŸÑ ÿ™ŸÖÿ™ÿØ ÿπŸÑŸâ ŸÉÿßŸÖŸÑ ÿßŸÑÿ¨ÿ≤ÿ° ÿßŸÑÿ¥ŸÖÿßŸÑŸä ŸÑŸÑŸÖÿ≠Ÿäÿ∑ ÿßŸÑÿ£ÿ∑ŸÑÿ≥Ÿä ÿ∫ÿ±ÿ®ÿß ÿßŸÑŸâ ÿ∫ÿßŸäÿ© ÿßŸÑŸàÿ∑ŸÜ ÿßŸÑŸÇÿ®ŸÑŸä ÿ¥ÿ±ŸÇÿß ŸàŸäŸÜÿÆŸÅÿ∂ ÿßÿ±ÿ™ŸÅÿßÿπŸä ŸÖŸÜ ÿßŸÑÿ∫ÿ±ÿ® ÿßŸÑŸâ ÿßŸÑÿ¥ÿ±ŸÇ ÿ≠Ÿäÿ´ ŸäÿµŸÑ ÿßÿ±ÿ™ŸÅÿßÿπ ÿ£ÿπŸÑŸâ ŸÇŸÖŸÖŸáÿß ÿßŸÑŸâ 4165 ŸÖ ŸÅŸä ÿ¨ÿ®ŸÑ ÿ∑Ÿàÿ®ŸÇÿßŸÑ ÿ®ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿ£ŸÇÿµŸâ Ÿà 2328 ŸÖ ÿ®ÿ¨ÿ®ŸÑ ÿ£Ÿàÿ±ÿßÿ≥ ÿ®ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± Ÿà 1544ŸÖ ŸÅŸä ÿ¨ÿ®ŸÑ ÿßŸÑÿ¥ÿπÿßŸÜÿ®Ÿä ÿ®ÿ™ŸàŸÜÿ≥
ÿ£ÿ™ŸÉŸàŸÜ ÿ£ÿ≥ÿßÿ≥ÿß ŸÖŸÜ ÿ≥ŸÑÿ≥ŸÑÿ™ŸäŸÜ ÿ¨ÿ®ŸÑŸäÿ™ŸäŸÜ ŸáŸÖÿß:
* ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ© ÿ¥ŸÖÿßŸÑŸäÿ©: ÿ™ÿ™ŸÉŸàŸÜ ŸÖŸÜ ÿ¨ÿ®ÿßŸÑ ÿßŸÑÿ±ŸäŸÅ ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿ£ŸÇÿµŸâ Ÿàÿ¨ÿ®ÿßŸÑ ÿßŸÑÿßÿ∑ŸÑÿ≥ ÿßŸÑÿ™ŸÑŸä ŸÅŸä ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± Ÿàÿ¨ÿ®ÿßŸÑ ÿÆŸÖŸäÿ± ŸÅŸä ÿ™ŸàŸÜÿ≥
* ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ© ÿ¨ŸÜŸàÿ®Ÿäÿ©: ÿ™ÿ™ÿ£ŸÑŸÅ ŸÖŸÜ ÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÉÿ®Ÿäÿ± ŸàÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑŸÖÿ™Ÿàÿ≥ÿ∑ ŸàÿßŸÑÿ£ÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ∫Ÿäÿ± ŸÅŸä ÿßŸÑŸÖÿ∫ÿ±ÿ® ÿßŸÑÿßŸÇÿµŸâ ŸàÿßŸÑÿßÿ∑ŸÑÿ≥ ÿßŸÑÿµÿ≠ÿ±ÿßŸàŸä Ÿàÿ¨ÿ®ÿßŸÑ ÿ£Ÿàÿ±ÿßÿ≥ ŸÅŸä ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ŸàÿßŸÑÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ∏Ÿáÿ±Ÿäÿ© ŸÅŸä ÿ™ŸàŸÜÿ≥.
- ÿßŸÑŸÉÿ™ŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸäÿ© ÿßŸÑŸÖŸÜÿπÿ≤ŸÑÿ© ŸàŸáŸä ÿ™ÿ±ÿ™ŸÅÿπ ŸÅŸä ŸÇŸÑÿ® ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ Ÿà ÿ£ŸáŸÖŸáÿß ÿ¨ÿ®ÿßŸÑ ÿ™Ÿäÿ®ÿ≥ÿ™Ÿä ÿ¨ŸÜŸàÿ® ŸÑŸäÿ®Ÿäÿß ( ÿ£ÿπŸÑŸâ ŸÇŸÖŸÖŸáÿß 3450ŸÖ ) Ÿà ÿ¨ÿ®ÿßŸÑ ÿßŸÑŸáŸÇÿßÿ± ÿ¨ŸÜŸàÿ® ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ± ( ÿ£ÿπŸÑŸâ ŸÇŸÖŸÖŸáÿß 3003ŸÖ ).`,
    };
  const showModal = (description, type) => {
    // V√©rifier si le type n'est pas "ÿµÿ≠ÿßÿ±Ÿä"
    if (type !== "ÿµÿ≠ÿßÿ±Ÿä") {
      setModalContent(description);
      setIsModalVisible(true);
    }
  };

  const handleOk = () => {
    setIsModalVisible(false);
  };

  const handleCancel = () => {
    setIsModalVisible(false);
  };
  const markersRef = useRef([]);

  return (
    <div style={{ position: "relative" }}>
      {/* L√©gende des types de paysages */}

      <motion.div
        style={{
          position: "absolute",
          top: "100px",
          right: "50px",
          display: "flex",
          flexDirection: "column",
          gap: "8px",

          padding: "10px",
          borderRadius: "8px",
          zIndex: 1000,
          boxShadow: "0px 4px 10px rgba(0, 0, 0, 0.2)",
        }}
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.8 }}
      >
        <img
          src="/assets/fourthCourse/chamel.png"
          alt="Logo"
          style={{ width: "50px", height: "auto" }}
        />
      </motion.div>
      {/* Boutons flottants */}
      <motion.div
        style={{
          position: "absolute",
          top: "100px",
          right: "950px",
          display: "flex",
          flexDirection: "column",
          gap: "8px",

          padding: "10px",
          borderRadius: "8px",
          zIndex: 1000,
          boxShadow: "0px 4px 10px rgba(0, 0, 0, 0.2)",
        }}
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 0.8 }}
      >
        {["ŸÇŸÖÿ© ÿ¨ÿ®ŸÑ", "ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ©", "ÿπÿ±ŸàŸÅ ÿ±ŸÖŸÑŸäÿ©"].map((type) => (
          <motion.button
            key={type}
            style={{
              padding: "8px",
              backgroundColor:
                selectedType === type ? colorsIcons[type] : "white",
              border: `2px solid ${colorsIcons[type]}`,
              cursor: "pointer",
              fontSize: "14px",
              borderRadius: "5px",
            }}
            whileHover={{ scale: 1.1 }}
            whileTap={{ scale: 0.9 }}
            onClick={() => setSelectedType(type)}
          >
            <img
              src={icones[type]}
              alt={type}
              style={{ width: "30px", marginRight: "10px" }}
            />

            {type.charAt(0).toUpperCase() + type.slice(1)}
          </motion.button>
        ))}
      </motion.div>

      {/* Carte interactive */}
      <MapContainer
        center={[30, 5]}
        zoom={5}
        style={{ height: "80vh", width: "100%" }}
      >
        <LayersControl position="topright">
          <BaseLayer checked name="Topographique">
            <TileLayer url="https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png" />
          </BaseLayer>

          <BaseLayer name="Satellite">
            <TileLayer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" />
          </BaseLayer>
          {selectedType === "ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ©" && (
            <Overlay checked name="ÿ≥ŸÑÿ≥ŸÑÿ© ÿ¨ÿ®ŸÑŸäÿ©">
              {hidhabs.map((hidhab) => (
                <Marker
                  key={hidhab.id}
                  position={[hidhab.lat, hidhab.lng]}
                  icon={MontagneIcon} // Use custom icon for "Ÿáÿ∂ÿßÿ®"
                  eventHandlers={{
                    click: () => {
                      setSelectedMontagne(hidhab);
                      //  setSelectedPosition([hidhab.lat, hidhab.lng]);
                    },
                  }}
                ></Marker>
              ))}
            </Overlay>
          )}
          {/* Marqueurs des montagnes */}
          {selectedType === "ŸÇŸÖÿ© ÿ¨ÿ®ŸÑ" && (
            <Overlay checked name="ŸÇŸÖÿ© ÿ¨ÿ®ŸÑ">
              {montagnes.map((montagne) => (
                <Marker
                  key={montagne.id}
                  position={[montagne.lat, montagne.lng]}
                  icon={FlagIcon}
                  eventHandlers={{
                    click: () => {
                      setSelectedMontagne(montagne);
                      //  setSelectedPosition([montagne.lat, montagne.lng]);
                    },
                  }}
                ></Marker>
              ))}
            </Overlay>
          )}
          {selectedType === "ÿπÿ±ŸàŸÅ ÿ±ŸÖŸÑŸäÿ©" && (
            <Overlay checked name="ÿπÿ±ŸàŸÅ ÿ±ŸÖŸÑŸäÿ©">
              {sohouls.map((hidhab) => (
                <Marker
                  key={hidhab.id}
                  position={[hidhab.lat, hidhab.lng]}
                  icon={oroufIcon} // Use custom icon for "Ÿáÿ∂ÿßÿ®"
                  eventHandlers={{
                    click: () => {
                      setSelectedMontagne(hidhab);
                      //  setSelectedPosition([hidhab.lat, hidhab.lng]);
                    },
                  }}
                ></Marker>
              ))}
            </Overlay>
          )}
        </LayersControl>

        {/* Modal affichant les d√©tails de la montagne */}
        {selectedMontagne && (
          <Modal
            title={selectedMontagne.name}
            visible={!!selectedMontagne}
            onCancel={() => setSelectedMontagne(null)}
            footer={null}
          >
            <p style={{ fontSize: "14px", marginTop: "5px", direction: "rtl" }}>
              {selectedMontagne.desc}
            </p>
            <div
              style={{ display: "flex", gap: "10px", justifyContent: "center" }}
            >
              {selectedMontagne?.imgs?.length > 0 ? (
                selectedMontagne.imgs.map((img, index) => (
                  <img
                    key={index}
                    src={img}
                    alt={`${selectedMontagne.name} ${index + 1}`}
                    style={{ width: "48%", borderRadius: "10px" }}
                  />
                ))
              ) : (
                <p> </p>
              )}
            </div>
          </Modal>
        )}
        {/* Zoom sur marqueur s√©lectionn√© */}
        {/* {selectedPosition && <ZoomToMarker position={selectedPosition} />} */}
      </MapContainer>
      <div
        style={{
          display: "flex",
          justifyContent: "center",
          gap: "15px",
          marginBottom: "10px",
          padding: "10px",
          backgroundColor: "rgba(255, 255, 255, 0.8)",
          borderRadius: "10px",
        }}
      >
        {Object.keys(colors).map((type) => (
          <div key={type} style={{ display: "flex", alignItems: "center" }}>
            {type.charAt(0).toUpperCase() + type.slice(1)}
            <span>
              <button
                key={type}
                onClick={() => showModal(descriptions[type], type)}
                style={{
                  width: "45px",
                  height: "20px",
                  backgroundColor: colors[type],
                  display: "inline-block",
                  marginLeft: "8px",
                }}
              ></button>
            </span>
          </div>
        ))}
      </div>

      {/* Modal */}
      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>
        <p style={{ fontSize: "14px", marginTop: "5px", direction: "rtl" }}>
          {modalContent}
        </p>
      </Modal>
    </div>
  );
};

export default MaghrebMap;
